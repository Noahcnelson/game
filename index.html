<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Oregon Trail - Minimalist</title>
    <style>
        body {
            background-color: #1a1a1a;
            color: #2ecc71;
            font-family: "Courier New", Courier, monospace;
            display: flex;
            justify-content: center;
            padding: 20px;
        }
        #game-container {
            max-width: 600px;
            width: 100%;
            background: #000;
            padding: 20px;
            border: 2px solid #2ecc71;
            box-shadow: 0 0 15px rgba(46, 204, 113, 0.3);
        }
        #log {
            height: 300px;
            overflow-y: auto;
            border-bottom: 1px solid #2ecc71;
            margin-bottom: 20px;
            padding-bottom: 10px;
        }
        .stats { display: flex; justify-content: space-between; margin-bottom: 20px; font-size: 0.9em; color: #f1c40f; }
        button {
            background: #2ecc71;
            border: none;
            color: black;
            padding: 10px 15px;
            margin: 5px;
            cursor: pointer;
            font-weight: bold;
            font-family: "Courier New", Courier, monospace;
        }
        button:hover { background: #27ae60; }
        button:disabled { background: #555; cursor: not-allowed; }
    </style>
</head>
<body>

<div id="game-container">
    <h2 style="text-align:center">OREGON TRAIL</h2>
    <div class="stats">
        <span>Miles: <span id="dist">2000</span> left</span>
        <span>Food: <span id="food">500</span> lbs</span>
        <span>Health: <span id="hp">100</span>%</span>
    </div>
    <div id="log">
        <p>Welcome, Traveler. You are in Independence, Missouri. You have 2000 miles to reach Oregon. Good luck.</p>
    </div>
    <div id="controls">
        <button onclick="travel()">Travel</button>
        <button onclick="hunt()">Hunt for Food</button>
        <button onclick="rest()">Rest</button>
    </div>
</div>

<script>
    let miles = 2000;
    let food = 500;
    let health = 100;
    const log = document.getElementById('log');

    function updateDisplay() {
        document.getElementById('dist').innerText = miles;
        document.getElementById('food').innerText = food;
        document.getElementById('hp').innerText = health;
        log.scrollTop = log.scrollHeight; // Auto-scroll
        
        if (miles <= 0) endGame("ðŸ† You made it to Oregon! You are a legend.");
        if (food <= 0) endGame("ðŸ’€ You ran out of food and starved.");
        if (health <= 0) endGame("ðŸ’€ You died of dysentery.");
    }

    function addLog(text, color = "#2ecc71") {
        const p = document.createElement('p');
        p.innerText = "> " + text;
        p.style.color = color;
        log.appendChild(p);
    }

    function randomEvent() {
        const chance = Math.random();
        if (chance < 0.15) {
            const damage = Math.floor(Math.random() * 20) + 10;
            health -= damage;
            addLog(`You got dysentery! Health -${damage}`, "#e74c3c");
        } else if (chance < 0.25) {
            addLog("A heavy storm slows you down.", "#3498db");
            return 5; // slow progress
        } else if (chance < 0.35) {
            const foundFood = Math.floor(Math.random() * 40) + 10;
            food += foundFood;
            addLog(`You found an abandoned wagon! +${foundFood} lbs of food.`, "#f1c40f");
        }
        return 0;
    }

    function travel() {
        let move = Math.floor(Math.random() * 50) + 70;
        let penalty = randomEvent();
        move -= (penalty || 0);
        
        miles -= move;
        food -= 30;
        health -= 2;
        addLog(`You traveled ${move} miles.`);
        updateDisplay();
    }

    function hunt() {
        let caught = Math.floor(Math.random() * 80) + 20;
        food += caught;
        health -= 5; // Hunting is tiring
        addLog(`You went hunting and got ${caught} lbs of meat.`, "#f1c40f");
        updateDisplay();
    }

    function rest() {
        health = Math.min(100, health + 15);
        food -= 10;
        addLog("You rested by the campfire. Health restored.");
        updateDisplay();
    }

    function endGame(msg) {
        addLog(msg, "white");
        document.querySelectorAll("button").forEach(b => b.disabled = true);
        const btn = document.createElement("button");
        btn.innerText = "Restart";
        btn.onclick = () => location.reload();
        document.getElementById("controls").appendChild(btn);
    }
</script>

</body>
</html>
